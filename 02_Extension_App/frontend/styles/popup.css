/* Popup Page Styles */

:root {
  --score: 0;                          /* start from 0 for animation */
  --circumference: 263.89;             /* 2πr for r=42 */
  --ring-color: #FF4444;              /* start with red */

  /* ============================================================
   * Veil shared design tokens (Phase 8) — mirrored in dashboard.css
   * ============================================================ */
  --veil-accent:        #EBFF3D;
  --veil-bg-primary:    #10133a;
  --veil-bg-card:       #1E2366;
  --veil-text-muted:    rgba(255, 255, 255, 0.5);
  --veil-text-subtle:   rgba(255, 255, 255, 0.3);
  --veil-border:        rgba(255, 255, 255, 0.08);
}

.progress-ring__circle {
  stroke-dasharray: var(--circumference);
  stroke-dashoffset: calc(var(--circumference) - (var(--circumference) * var(--score)) / 100);
  transition: stroke-dashoffset 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              stroke 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              opacity .25s ease;
  transform-origin: 50% 50%;
  will-change: stroke-dashoffset, stroke;
  stroke: var(--ring-color);
}

/* Score ring: soft glow-pulse once data has loaded */
@keyframes ring-glow-pulse {
  0%   { filter: drop-shadow(0 0 2px var(--ring-color)); }
  50%  { filter: drop-shadow(0 0 8px var(--ring-color)); }
  100% { filter: drop-shadow(0 0 2px var(--ring-color)); }
}

.score-ring-loaded .progress-ring__circle {
  animation: ring-glow-pulse 2s ease-in-out 2.5s 2; /* fires after stroke animation settles */
}

/* Score number: pop-in when value first appears */
@keyframes score-number-pop {
  0%   { transform: scale(0.6); opacity: 0; }
  70%  { transform: scale(1.08); opacity: 1; }
  100% { transform: scale(1);    opacity: 1; }
}

.score-pop {
  animation: score-number-pop 0.45s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Loading skeleton shimmer for score number */
@keyframes shimmer {
  0%   { background-position: -200% center; }
  100% { background-position:  200% center; }
}

.score-loading-skeleton {
  color: transparent !important;
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.06) 25%,
    rgba(255,255,255,0.14) 50%,
    rgba(255,255,255,0.06) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.4s ease-in-out infinite;
  border-radius: 6px;
  min-width: 2ch;
  display: inline-block;
}

/* Score message fade helper — replaces raw style.opacity (Phase 8) */
.msg-fading {
  opacity: 0.7;
  transform: scale(0.95);
}

#scoreValue {
  transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform;
}

#scoreMessage {
  transition: opacity 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform, opacity;
}

/* Hide scrollbar for Chrome, Safari and Opera */
body::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
body {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}
