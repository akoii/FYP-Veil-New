{
    "manifest_version": 3,
    "name": "Veil - Privacy & Cookie Classifier",
    "version": "1.0.0",
    "description": "Advanced privacy protection: blocks trackers, spoofs fingerprints, manages cookies, and secures DNS to keep your browsing private.",
    "author": "FYP Team",
    "permissions": [
        "cookies",
        "storage",
        "tabs",
        "activeTab",
        "scripting",
        "declarativeNetRequest",
        "declarativeNetRequestFeedback",
        "sidePanel",
        "contentSettings",
        "webNavigation",
        "webRequest",
        "notifications",
        "alarms"
    ],
    "host_permissions": [
        "<all_urls>",
        "https://aqibtahir-cookie-classifier-api.hf.space/*"
    ],
    "background": {
        "service_worker": "core/service-worker.js",
        "type": "module"
    },
    "action": {
        "default_popup": "frontend/pages/popup.html",
        "default_icon": {
            "16": "frontend/assets/icon16.svg",
            "48": "frontend/assets/icon48.svg",
            "128": "frontend/assets/icon128.svg"
        },
        "default_title": "Veil - Cookie Classifier"
    },
    "side_panel": {
        "default_path": "frontend/pages/dashboard.html"
    },
    "icons": {
        "16": "frontend/assets/icon16.svg",
        "48": "frontend/assets/icon48.svg",
        "128": "frontend/assets/icon128.svg"
    },
    "content_scripts": [
        {
            "matches": [
                "<all_urls>"
            ],
            "js": [
                "frontend/scripts/hardware-interceptor.js"
            ],
            "run_at": "document_start",
            "world": "MAIN",
            "all_frames": true
        },
        {
            "matches": [
                "<all_urls>"
            ],
            "js": [
                "frontend/scripts/fingerprint-interceptor.js"
            ],
            "run_at": "document_start",
            "world": "MAIN",
            "all_frames": true
        },
        {
            "matches": [
                "<all_urls>"
            ],
            "js": [
                "frontend/scripts/hardware-monitor.js"
            ],
            "run_at": "document_start",
            "all_frames": true
        },
        {
            "matches": [
                "<all_urls>"
            ],
            "js": [
                "frontend/scripts/fingerprint-monitor.js"
            ],
            "run_at": "document_start",
            "all_frames": true
        },
        {
            "matches": [
                "<all_urls>"
            ],
            "js": [
                "frontend/scripts/cookieClassifier.js",
                "frontend/scripts/cookieManager.js",
                "frontend/scripts/overlay-injector.js"
            ],
            "run_at": "document_end"
        }
    ],
    "web_accessible_resources": [
        {
            "resources": [
                "frontend/scripts/*.js",
                "frontend/styles/*.css",
                "frontend/styles/dashboard.css",
                "frontend/assets/*",
                "frontend/pages/*.html",
                "frontend/scripts/hardware-monitor.js",
                "frontend/scripts/fingerprint-interceptor.js",
                "frontend/scripts/fingerprint-monitor.js",
                "core/utils/*.js",
                "core/data/*.bin"
            ],
            "matches": [
                "<all_urls>"
            ]
        }
    ],
    "declarative_net_request": {
        "rule_resources": [
            {
                "id": "tracker_blocking",
                "enabled": true,
                "path": "core/rules/tracker_rules.json"
            }
        ]
    }
}